---
import '../components/GlobalStyles.astro'
import { Footer } from '../components/Footer'
import { FooterFunction, HeaderFunction } from '../DataImports'
import { AstroFont } from "astro-font";  
import { Header } from '../components/Header'

let headerData
let footerData
try {
    headerData = await HeaderFunction()
    footerData = await FooterFunction()
  } catch (error) {
    console.error('Failed to fetch data:', error)
  }
---
<html
  lang="en"
>
<head>
  <AstroFont
  config={[
	{
	  name: "Ramaraja",
	  src: [],
	  googleFontsURL: 'https://fonts.googleapis.com/css2?family=Ramaraja&display=swap',
	  preload: true,
	  display: "swap",
	  selector: "body",
	  fallback: "serif",
	},
	{
	  name: "Gotham",
	  src: [
		{
		  weight: '500',
		  style: 'medium',
		  path: '/fonts/Gotham/GothamMedium.woff2',
		},
		{
		  weight: '700',
		  style: 'bold',
		  path: '/fonts/Gotham/GothamBold.woff2',
		},
	  ],
	  preload: true,
	  display: "swap",
	  selector: "body",
	  fallback: "sans-serif",
	},
	{
	  name: "LTCBodoni175Pro",
	  src: [
		{
		  weight: '400',
		  style: 'normal',
		  path: '/fonts/LTCBodoni175Pro/ltc-bodoni-175-pro-regular.woff2',
		},
	  ],
	  preload: true,
	  display: "swap",
	  selector: "body",
	  fallback: "serif",
	},
	{
	  name: "ProximaNova",
	  src: [
		{
		  weight: '300',
		  style: 'light',
		  path: '/fonts/ProximaNova/ProximaNova-Light.woff2',
		},
		{
		  weight: '400',
		  style: 'normal',
		  path: '/fonts/ProximaNova/ProximaNova-Regular.woff2',
		},
		{
		  weight: '600',
		  style: 'semibold',
		  path: '/fonts/ProximaNova/ProximaNova-Semibold.woff2',
		},
		{
		  weight: '700',
		  style: 'bold',
		  path: '/fonts/ProximaNova/ProximaNova-Bold.woff2',
		},
	  ],
	  preload: true,
	  display: "swap",
	  selector: "body",
	  fallback: "sans-serif",
	},
  ]}  
  />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <slot name="head" />
</head>
  <body class="relative bg-gray-lightest">
    <div class="bg-white text-2xl relative">
      <Header headerData={headerData.data} client:load />
      <slot />
      <Footer footerData={footerData.data} />
    </div> 
    <script
          type="text/partytown"
          async
          src="https://www.googletagmanager.com/gtag/js?id=G-EQH496LMM2"
        />
        <script type="text/partytown">
          window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-EQH496LMM2');
          </script>
  </body>
</html>
